<!DOCTYPE html>
<html style="height:100%;">
<head>
<script>

function redirectWithDelay(seconds) {
  var container = document.getElementById('delayCount');
  if(container) {
    container.innerText = "" + seconds;
  }
  if(seconds > 0) {
    seconds--;
    window.setTimeout('redirectWithDelay(' + seconds + ')', 1000)
  } else {
    window.location.replace('JITSI_REDIRECT');
  }
}

function setDontBother() {
  localStorage.setItem("DontBotherTimestamp", Date.now());
}

</script>
</head>
<body style="background: linear-gradient(to bottom, #333388, #7777BB 50%, #333388); height: 100%; text-align: center; color: white;">

<h1 style="line-height: 2">Jitsi-Usage Information</h1>

<ul style="display: block; margin-left: auto; margin-right: auto; width: 40ex; padding: 10px; text-align: left;">
  <li>Use Jitsi to communicate with others</li>
  <li>Be nice to others</li>
  <li>Use it if you want to do Screen-Sharing</li>
  <li>Don't use the Camera if you are tired because others will notice</li>
</ul>

<div style="line-height: 4">
  <button type="button" onclick="redirectWithDelay(0)">Confirm</button>
</div>
<div style="line-height: 4">
  <button type="button" onclick="setDontBother(); redirectWithDelay(0);">Confirm and don't bother me for some days</button>
</div>
<p style="line-height: 2">…automatically skipping in <span id="delayCount"></span> seconds…</p>

<script>
  confirmed = localStorage.getItem("Confirmed");
  console.log(confirmed)
  if(confirmed == "true") {
    redirectWithDelay(0);
  } else {
    redirectWithDelay(20);
  }
</script>

</body>
</html> 
