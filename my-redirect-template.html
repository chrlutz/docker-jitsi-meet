<!DOCTYPE html>
<html><head>

<style>
html, body { height: 100%; }
h1         { line-height: 2; }
.dist  { line-height: 4; }

body {
  background: linear-gradient(to bottom, #222288, #6666BB 50%, #222288);
  text-align: center;
  color: white;
}

ul {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 40ex;
  padding: 10px;
  text-align: left;
}
</style>

<script>
function redirectWithDelay(seconds) {
  var container = document.getElementById('delayCount');
  if(container) {
    container.innerText = "" + seconds;
  }
  if(seconds > 0) {
    seconds--;
    window.setTimeout('redirectWithDelay(' + seconds + ')', 1000)
  } else {
    window.location.replace('JITSI_REDIRECT');
  }
}

function setDontBother() {
  localStorage.setItem("DontBotherTimestamp", Date.now());
}
</script>

</head><body>

<h1>Jitsi-Usage Information</h1>

<ul>
  <li>Use Jitsi to communicate with others</li>
  <li>Be nice to others</li>
  <li>Use it if you want to do Screen-Sharing</li>
  <li>Don't use the Camera if you are tired because others will notice</li>
</ul>

<div class="dist">
  <button type="button" onclick="redirectWithDelay(0)">Confirm</button>
</div>
<div class="dist">
  <button type="button" onclick="setDontBother(); redirectWithDelay(0);">Confirm and don't bother me for some days</button>
</div>
<p class="dist">...automatically skipping in <span id="delayCount"></span> seconds...</p>

<script>
  confirmed = localStorage.getItem("Confirmed");
  console.log(confirmed)
  if(confirmed == "true") {
    redirectWithDelay(0);
  } else {
    redirectWithDelay(20);
  }
</script>

</body></html>
